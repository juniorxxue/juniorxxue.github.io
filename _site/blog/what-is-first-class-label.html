<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>What is first class label? | TYPES.HK</title><meta name="description" content="A minimal, text focused blog"><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/favicon.ico" type="image/x-icon"><link href='/feed.xml' rel='alternate' type='application/atom+xml'><link rel="canonical" href="/blog/what-is-first-class-label"><link rel="stylesheet" href="/assets/style.css"><body><main><h2 class="title">TYPES.HK</h2><nav> <a href="http://localhost:4000/">Home</a> <a href="http://localhost:4000/about">About</a> <!-- --></nav><h1>What is first class label?</h1><i>Jul 26, 2023</i><h4 class="subtitle"></h4><p>In languages with first-class labels, labels are treated as first-class values that can be passed as arguments. I’ll use Javascript to explain how it differs from our familiar ones.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const person = {
  name: "john",
  age: 50,
};

static_access = person.age;
dyn_label = "age";
dynamic_access = person[dyn_label];
</code></pre></div></div><p>In normal record calculi, labels are part of syntax and always statically known, as <code class="language-plaintext highlighter-rouge">static_access</code>. Thus, <code class="language-plaintext highlighter-rouge">age</code> is not a first-class label.</p><p>Javascript also supports a <em>computed field access</em> which allows you to give a variable which value can be assigned in runtime, then compute the result. And <code class="language-plaintext highlighter-rouge">dyn_label</code> is a first-class label.</p><h2 id="why-bother">Why bother?</h2><p>While the behavior of dynamic semantics is straightforward, designing the corresponding type system is a challenge. For the purpose of this demonstration, I will be using” <em>qualified type system</em>:</p><p>In expression <code class="language-plaintext highlighter-rouge">person.age</code>, <code class="language-plaintext highlighter-rouge">_.age</code> is a operator that access constant label age, so its type can be</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(_.age) :: ∀ r a. (r\age) =&gt; {age :: a | r} -&gt; a
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">_age</code> indicates that given a record containing label <code class="language-plaintext highlighter-rouge">age</code>, return the term with the type associated with label <code class="language-plaintext highlighter-rouge">age</code>.</p><p>In expression <code class="language-plaintext highlighter-rouge">person["age"]</code>, since <code class="language-plaintext highlighter-rouge">"age"</code> can be given in runtime, <code class="language-plaintext highlighter-rouge">_._</code> become a operator and its type is</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(_[_]) ::∀ r l a. (r\l) =&gt; {l :: a | r} -&gt; Lab l -&gt; a
</code></pre></div></div><p>Though <code class="language-plaintext highlighter-rouge">"age"</code> is a string, we view it as a <code class="language-plaintext highlighter-rouge">Lab</code> type. The type of <code class="language-plaintext highlighter-rouge">_[_]</code> means given a record containing a arbitrary label <code class="language-plaintext highlighter-rouge">l</code>, and a label <code class="language-plaintext highlighter-rouge">l</code>, return the term with the type associated with label <code class="language-plaintext highlighter-rouge">l</code>.</p></main><footer> <!--<nav class="sans"><hr> <input class="menu-btn" type="checkbox" id="menu-btn" /><p><label class="menu-icon" for="menu-btn">Menu</label></p><ul class="site-nav"><li><a href="/">Home</a><li><a href="/blog">Blog</a><li><a href="/designs">Designs</a><li><a href="/about">About</a><li><a href="https://canisee.xyz" title="Confirm your vision functionality">[Can I See]</a></ul></nav>--> <!-- <span class="mini-note">You've reached the end of the page. Good job!</span> --> <!--<nav class="sans"><hr><p><label class="menu-icon" for="menu-btn">Menu</label></p><ul class="site-nav"><li><a href="/">Home</a><li><a href="/blog">Blog</a><li><a href="/designs">Designs</a><li><a href="/about">About</a><li><a href="https://canisee.xyz" title="Confirm your vision functionality">[Can I See]</a></ul></nav>--><div class="bottom-footer"></div></footer><script> MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']] } }; </script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
